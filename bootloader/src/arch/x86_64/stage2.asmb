bits 64
org 0x9000
_start:
	; Clear the screen
	mov rax, 0xB8000 ; Video memory
	mov rbx, 0
.loop:
	mov byte [rax], 0x0
	add rax, 2
	inc ebx
        cmp ebx, 4800
        jne .loop
	
	; Parse ELF stuff
	push rax
	mov rax, [0xd000]
	cmp al, 0x7F
	jne $
	cmp ah, 0x45
	jne $
	mov rax, [0xd002]
	cmp al, 0x4C
	jne $
	cmp ah, 0x46
	jne $
	pop rax
	mov rax, 0xB8000
	mov byte [rax], 'G'
	
	jmp $
